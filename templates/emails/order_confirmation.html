<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Order Confirmation - {{ order.order_number }}</title>
    <style>
        body { font-family: Arial, sans-serif; line-height: 1.6; color: #333; margin: 0; padding: 0; }
        .container { max-width: 600px; margin: 0 auto; padding: 20px; }
        .header { background: #9C6B68; color: white; text-align: center; padding: 30px 20px; border-radius: 8px 8px 0 0; }
        .content { background: #ffffff; padding: 30px; border: 1px solid #e5e5e5; }
        .order-info { background: #f8f9fa; padding: 20px; border-radius: 8px; margin: 20px 0; }
        .order-items { margin: 20px 0; }
        .order-item { display: flex; align-items: center; padding: 15px 0; border-bottom: 1px solid #e5e5e5; }
        .order-item:last-child { border-bottom: none; }
        .item-image { width: 80px; height: 80px; object-fit: cover; border-radius: 8px; margin-right: 15px; }
        .item-details { flex-grow: 1; }
        .item-title { font-weight: bold; margin-bottom: 5px; }
        .item-type { color: #666; font-size: 14px; }
        .item-price { font-weight: bold; color: #9C6B68; }
        .totals { background: #f8f9fa; padding: 20px; border-radius: 8px; margin: 20px 0; }
        .total-row { display: flex; justify-content: space-between; margin-bottom: 10px; }
        .total-row.final { font-weight: bold; font-size: 18px; border-top: 2px solid #ddd; padding-top: 10px; margin-top: 15px; }
        .addresses { display: flex; gap: 20px; margin: 20px 0; }
        .address { flex: 1; background: #f8f9fa; padding: 15px; border-radius: 8px; }
        .address h4 { margin-top: 0; color: #9C6B68; }
        .footer { text-align: center; padding: 20px; color: #666; font-size: 14px; }
        .button { display: inline-block; background: #9C6B68; color: white; padding: 12px 24px; text-decoration: none; border-radius: 8px; margin: 15px 0; }
        .status-badge { background: #28a745; color: white; padding: 4px 12px; border-radius: 20px; font-size: 12px; font-weight: bold; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Order Confirmed!</h1>
            <p>Thank you for your purchase from Aiza's Fine Art</p>
        </div>
        
        <div class="content">
            <div class="order-info">
                <h2>Order Details</h2>
                <p><strong>Order Number:</strong> {{ order.order_number }}</p>
                <p><strong>Order Date:</strong> {{ order.created_at|date:"F j, Y g:i A" }}</p>
                <p><strong>Status:</strong> <span class="status-badge">{{ order.get_status_display }}</span></p>
                <p><strong>Email:</strong> {{ order.billing_email }}</p>
            </div>
            
            <div class="order-items">
                <h3>Items Ordered</h3>
                {% for item in order.items.all %}
                <div class="order-item">
                    <img src="{{ item.artwork.gallery_image }}" alt="{{ item.artwork.title }}" class="item-image">
                    <div class="item-details">
                        <div class="item-title">{{ item.title }}</div>
                        <div class="item-type">{{ item.description }}</div>
                        <div>Quantity: {{ item.quantity }}</div>
                    </div>
                    <div class="item-price">${{ item.total_price }}</div>
                </div>
                {% endfor %}
            </div>
            
            <div class="totals">
                <h3>Order Summary</h3>
                <div class="total-row">
                    <span>Subtotal:</span>
                    <span>${{ order.subtotal }}</span>
                </div>
                <div class="total-row">
                    <span>Shipping:</span>
                    <span>${{ order.shipping_amount }}</span>
                </div>
                <div class="total-row">
                    <span>Tax:</span>
                    <span>${{ order.tax_amount }}</span>
                </div>
                <div class="total-row final">
                    <span>Total:</span>
                    <span>${{ order.total_amount }}</span>
                </div>
            </div>
            
            <div class="addresses">
                <div class="address">
                    <h4>Billing Address</h4>
                    <p>{{ order.billing_name }}<br>
                    {{ order.billing_address_display|linebreaks }}</p>
                </div>
                
                <div class="address">
                    <h4>Shipping Address</h4>
                    <p>{% if order.shipping_name %}{{ order.shipping_name }}{% else %}{{ order.billing_name }}{% endif %}<br>
                    {{ order.shipping_address_display|linebreaks }}</p>
                </div>
            </div>
            
            {% if order.notes %}
            <div class="order-info">
                <h4>Special Instructions</h4>
                <p>{{ order.notes }}</p>
            </div>
            {% endif %}
            
            <div style="text-align: center;">
                <a href="http://{{ request.get_host }}{% url 'orders:confirmation' order.order_number %}" class="button">
                    View Order Details
                </a>
            </div>
            
            <div class="order-info">
                <h4>What's Next?</h4>
                <p><strong>Processing:</strong> Your order is being prepared for shipment. Original artworks are carefully packaged to ensure safe delivery.</p>
                <p><strong>Shipping:</strong> You'll receive a tracking number once your order ships. Most orders ship within 3-5 business days.</p>
                <p><strong>Delivery:</strong> Standard shipping takes 5-7 business days. Expedited options are available.</p>
            </div>
        </div>
        
        <div class="footer">
            <p>If you have any questions about your order, please contact us at:</p>
            <p><strong>Email:</strong> hello@aizasfineart.com | <strong>Phone:</strong> (555) 123-4567</p>
            <p>Thank you for supporting independent art!</p>
            <br>
            <p style="font-size: 12px; color: #999;">
                Aiza's Fine Art | Fort Worth, TX<br>
                You are receiving this email because you placed an order with us.
            </p>
        </div>
    </div>
</body>
</html>